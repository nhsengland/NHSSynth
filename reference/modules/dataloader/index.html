
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="io/">
      
      <link rel="icon" href="../../../assets/NHS.svg">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.5">
    
    
      
        <title>dataloader - Generating Useful Synthetic Data</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7a7fce14.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nhssynth.modules.dataloader" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Generating Useful Synthetic Data" class="md-header__button md-logo" aria-label="Generating Useful Synthetic Data" data-md-component="logo">
      
  <img src="../../../assets/NHS.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Generating Useful Synthetic Data
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              dataloader
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/nhsx/NHSSynth" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    nhsx/NHSSynth
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../model_card/" class="md-tabs__link">
      Model Card
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../cli/" class="md-tabs__link md-tabs__link--active">
        Code Reference
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Generating Useful Synthetic Data" class="md-nav__button md-logo" aria-label="Generating Useful Synthetic Data" data-md-component="logo">
      
  <img src="../../../assets/NHS.svg" alt="logo">

    </a>
    Generating Useful Synthetic Data
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nhsx/NHSSynth" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    nhsx/NHSSynth
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../model_card/" class="md-nav__link">
        Model Card
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Code Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Code Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../cli/">cli</a>
          
            <label for="__nav_3_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          cli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/module_arguments/" class="md-nav__link">
        module_arguments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/module_setup/" class="md-nav__link">
        module_setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/run/" class="md-nav__link">
        run
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">modules</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_1" checked>
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">dataloader</a>
          
            <label for="__nav_3_2_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3_2_1">
          <span class="md-nav__icon md-icon"></span>
          dataloader
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="io/" class="md-nav__link">
        io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="metadata/" class="md-nav__link">
        metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="run/" class="md-nav__link">
        run
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="transformers/" class="md-nav__link">
        transformers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../evaluation/">evaluation</a>
          
            <label for="__nav_3_2_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_2">
          <span class="md-nav__icon md-icon"></span>
          evaluation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../evaluation/metrics/" class="md-nav__link">
        metrics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../evaluation/run/" class="md-nav__link">
        run
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../model/">model</a>
          
            <label for="__nav_3_2_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_3">
          <span class="md-nav__icon md-icon"></span>
          model
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../model/DPVAE/" class="md-nav__link">
        DPVAE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../model/run/" class="md-nav__link">
        run
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../plotting/">plotting</a>
          
            <label for="__nav_3_2_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_4">
          <span class="md-nav__icon md-icon"></span>
          plotting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plotting/plot/" class="md-nav__link">
        plot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plotting/run/" class="md-nav__link">
        run
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_5" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../structure/">structure</a>
          
            <label for="__nav_3_2_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_5">
          <span class="md-nav__icon md-icon"></span>
          structure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../structure/run/" class="md-nav__link">
        run
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../utils/">utils</a>
          
            <label for="__nav_3_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/constants/" class="md-nav__link">
        constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/nhsx/NHSSynth/edit/main/src/nhssynth/modules/dataloader/__init__.py" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/nhsx/NHSSynth/raw/main/src/nhssynth/modules/dataloader/__init__.py" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
    </a>
  


  <h1>dataloader</h1>

<div class="doc doc-object doc-module">

<a id="nhssynth.modules.dataloader"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h2 id="nhssynth.modules.dataloader.io" class="doc doc-heading">
        <code>io</code>



</h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.io.check_ending" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_ending</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">ending</span><span class="o">=</span><span class="s1">&#39;.csv&#39;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Ensures that the filename <code>fn</code> ends with <code>ending</code>. If not, appends <code>ending</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>fn</code></td>
        <td><code>str</code></td>
        <td><p>The filename to check.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>ending</code></td>
        <td><code>str</code></td>
        <td><p>The desired ending to check for. Default is ".csv".</p></td>
        <td><code>&#39;.csv&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The filename with the correct ending.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/io.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_ending</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ending</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;.csv&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Ensures that the filename `fn` ends with `ending`. If not, appends `ending`.</span>

<span class="sd">    Args:</span>
<span class="sd">        fn: The filename to check.</span>
<span class="sd">        ending: The desired ending to check for. Default is &quot;.csv&quot;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The filename with the correct ending.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">fn</span> <span class="k">if</span> <span class="n">fn</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">ending</span><span class="p">)</span> <span class="k">else</span> <span class="n">fn</span> <span class="o">+</span> <span class="n">ending</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.io.setup_io" class="doc doc-heading">
<code class="highlight language-python"><span class="n">setup_io</span><span class="p">(</span><span class="n">fn_in</span><span class="p">,</span> <span class="n">fn_out</span><span class="p">,</span> <span class="n">fn_metadata</span><span class="p">,</span> <span class="n">dir_data</span><span class="p">,</span> <span class="n">run_name</span><span class="p">,</span> <span class="n">dir_exp</span><span class="o">=</span><span class="s1">&#39;experiments&#39;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Formats the input and output filenames and directories for an experiment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>fn_in</code></td>
        <td><code>str</code></td>
        <td><p>The input data filename.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>fn_out</code></td>
        <td><code>str</code></td>
        <td><p>The output data filename / suffix to append to <code>fn_in</code>.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>fn_metadata</code></td>
        <td><code>str</code></td>
        <td><p>The metadata filename / suffix to append to <code>fn_in</code>.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dir_data</code></td>
        <td><code>str</code></td>
        <td><p>The directory containing the data.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the experiment run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dir_exp</code></td>
        <td><code>str</code></td>
        <td><p>The parent directory for the experiment folders. Default is "experiments".</p></td>
        <td><code>&#39;experiments&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>tuple[Path, Path, Path, Path]</code></td>
      <td><p>A tuple containing the formatted input, output, and metadata (in and out) paths.</p></td>
    </tr>
  </tbody>
</table>      <p>!!! warnings
    Raises a UserWarning when the path to <code>fn_in</code> includes directory separators, as this is not supported and may not work as intended.
    Raises a UserWarning when the path to <code>fn_out</code> includes directory separators, as only the name of the output file will be used.
    Raises a UserWarning when the path to <code>fn_metadata</code> includes directory separators, as this is not supported and may not work as intended.</p>

        <details class="quote">
          <summary>Source code in <code>modules/dataloader/io.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">setup_io</span><span class="p">(</span>
    <span class="n">fn_in</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">fn_out</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">fn_metadata</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">dir_data</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">dir_exp</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;experiments&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="n">Path</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Formats the input and output filenames and directories for an experiment.</span>

<span class="sd">    Args:</span>
<span class="sd">        fn_in: The input data filename.</span>
<span class="sd">        fn_out: The output data filename / suffix to append to `fn_in`.</span>
<span class="sd">        fn_metadata: The metadata filename / suffix to append to `fn_in`.</span>
<span class="sd">        dir_data: The directory containing the data.</span>
<span class="sd">        run_name: The name of the experiment run.</span>
<span class="sd">        dir_exp: The parent directory for the experiment folders. Default is &quot;experiments&quot;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple[Path, Path, Path, Path]: A tuple containing the formatted input, output, and metadata (in and out) paths.</span>

<span class="sd">    Warnings:</span>
<span class="sd">        Raises a UserWarning when the path to `fn_in` includes directory separators, as this is not supported and may not work as intended.</span>
<span class="sd">        Raises a UserWarning when the path to `fn_out` includes directory separators, as only the name of the output file will be used.</span>
<span class="sd">        Raises a UserWarning when the path to `fn_metadata` includes directory separators, as this is not supported and may not work as intended.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># ensure .csv ending consistency</span>
    <span class="n">fn_in</span><span class="p">,</span> <span class="n">fn_out</span><span class="p">,</span> <span class="n">fn_metadata</span> <span class="o">=</span> <span class="n">check_ending</span><span class="p">(</span><span class="n">fn_in</span><span class="p">),</span> <span class="n">check_ending</span><span class="p">(</span><span class="n">fn_out</span><span class="p">),</span> <span class="n">check_ending</span><span class="p">(</span><span class="n">fn_metadata</span><span class="p">,</span> <span class="n">ending</span><span class="o">=</span><span class="s2">&quot;.yaml&quot;</span><span class="p">)</span>

    <span class="n">dir_data</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">dir_data</span><span class="p">)</span>

    <span class="c1"># check if `fn_out` and `fn_metadata` are given as suffixes (start with an underscore) to append to `fn_in`</span>
    <span class="c1"># if not assume it is a name in its own right</span>
    <span class="k">if</span> <span class="n">fn_out</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;_&quot;</span><span class="p">:</span>
        <span class="n">fn_out</span> <span class="o">=</span> <span class="n">check_ending</span><span class="p">(</span><span class="n">fn_in</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="n">fn_out</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">fn_metadata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;_&quot;</span><span class="p">:</span>
        <span class="n">fn_metadata</span> <span class="o">=</span> <span class="n">check_ending</span><span class="p">(</span><span class="n">fn_in</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="n">fn_metadata</span><span class="p">,</span> <span class="n">ending</span><span class="o">=</span><span class="s2">&quot;.yaml&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;/&quot;</span> <span class="ow">in</span> <span class="n">fn_in</span><span class="p">:</span>
        <span class="n">fn_in</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">fn_in</span><span class="p">)</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Using the path supplied to `--input-file` appended to `--dir`, i.e. attempting to read data from </span><span class="si">{</span><span class="n">dir_data</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">fn_in</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">to avoid this warning, specify the path using `--dir` and only the name using `--input-file`</span><span class="se">\n</span><span class="s2">e.g. `... --dir </span><span class="si">{</span><span class="p">(</span><span class="n">dir_data</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">fn_in</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="si">}</span><span class="s2"> --input-file </span><span class="si">{</span><span class="n">fn_in</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> ...`&quot;</span><span class="p">,</span>
            <span class="ne">UserWarning</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># generate timestamped experiment folder</span>
    <span class="n">dir_exp</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">dir_exp</span><span class="p">)</span> <span class="o">/</span> <span class="n">run_name</span>

    <span class="k">if</span> <span class="s2">&quot;/&quot;</span> <span class="ow">in</span> <span class="n">fn_out</span><span class="p">:</span>
        <span class="n">fn_out</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">fn_out</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Paths are not supported via `--output-file`, using the name part instead, i.e. attempting to write data to </span><span class="si">{</span><span class="n">dir_exp</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">fn_out</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="ne">UserWarning</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;/&quot;</span> <span class="ow">in</span> <span class="n">fn_metadata</span><span class="p">:</span>
        <span class="n">fn_metadata</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">fn_metadata</span><span class="p">)</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Using the path supplied to `--metadata` appended to `--dir`, i.e. attempting to read data from </span><span class="si">{</span><span class="n">dir_data</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">fn_metadata</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">to avoid this warning, specify the path using `--dir` and only the name using `--metadata`</span><span class="se">\n</span><span class="s2">e.g. `... --dir </span><span class="si">{</span><span class="p">(</span><span class="n">dir_data</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">fn_metadata</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="si">}</span><span class="s2"> --metadata </span><span class="si">{</span><span class="n">fn_metadata</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> ...`&quot;</span><span class="p">,</span>
            <span class="ne">UserWarning</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Make the experiment directory</span>
    <span class="n">dir_exp</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">dir_data</span> <span class="o">/</span> <span class="n">fn_in</span><span class="p">,</span> <span class="n">dir_exp</span> <span class="o">/</span> <span class="n">fn_out</span><span class="p">,</span> <span class="n">dir_data</span> <span class="o">/</span> <span class="n">fn_metadata</span><span class="p">,</span> <span class="n">dir_exp</span> <span class="o">/</span> <span class="n">fn_metadata</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="nhssynth.modules.dataloader.metadata" class="doc doc-heading">
        <code>metadata</code>



</h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.metadata.assemble_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">assemble_metadata</span><span class="p">(</span><span class="n">dtypes</span><span class="p">,</span> <span class="n">metatransformer</span><span class="p">,</span> <span class="n">sdv_workflow</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Constructs a metadata dictionary from a list of data types and a metatransformer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dtypes</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary mapping column names of the input data to their assigned data types.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>metatransformer</code></td>
        <td><code>sdv.single_table.base.BaseSingleTableSynthesizer | rdt.hyper_transformer.HyperTransformer</code></td>
        <td><p>A meta-transformer used to create synthetic data.
- If <code>sdv_workflow</code> is True, <code>metatransformer</code> should be an SDV single-table synthesizer.
- If <code>sdv_workflow</code> is False, <code>metatransformer</code> should be an RDT HyperTransformer object
  wrapping a dictionary containing transformers and sdtypes for each column.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sdv_workflow</code></td>
        <td><code>bool</code></td>
        <td><p>A boolean indicating whether the data was transformed using the SDV / synthesizer workflow.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict[str, dict[str, Any]]</code></td>
      <td><p>A dictionary mapping column names to column metadata.
    The metadata for each column has the following keys:
    - dtype: The name of the data type for the column.
    - sdtype: The data type for the column (only present if <code>sdv_workflow</code> is False).
    - transformer: A dictionary containing information about the transformer
      used for the column (if any). The dictionary has the following keys:
      - name: The name of the transformer.
      - Any other properties of the transformer that are not private or set by a random seed.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">assemble_metadata</span><span class="p">(</span>
    <span class="n">dtypes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">],</span>
    <span class="n">metatransformer</span><span class="p">:</span> <span class="n">BaseSingleTableSynthesizer</span> <span class="o">|</span> <span class="n">HyperTransformer</span><span class="p">,</span>
    <span class="n">sdv_workflow</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructs a metadata dictionary from a list of data types and a metatransformer.</span>

<span class="sd">    Args:</span>
<span class="sd">        dtypes: A dictionary mapping column names of the input data to their assigned data types.</span>
<span class="sd">        metatransformer: A meta-transformer used to create synthetic data.</span>
<span class="sd">            - If `sdv_workflow` is True, `metatransformer` should be an SDV single-table synthesizer.</span>
<span class="sd">            - If `sdv_workflow` is False, `metatransformer` should be an RDT HyperTransformer object</span>
<span class="sd">              wrapping a dictionary containing transformers and sdtypes for each column.</span>
<span class="sd">        sdv_workflow: A boolean indicating whether the data was transformed using the SDV / synthesizer workflow.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, dict[str, Any]]: A dictionary mapping column names to column metadata.</span>
<span class="sd">            The metadata for each column has the following keys:</span>
<span class="sd">            - dtype: The name of the data type for the column.</span>
<span class="sd">            - sdtype: The data type for the column (only present if `sdv_workflow` is False).</span>
<span class="sd">            - transformer: A dictionary containing information about the transformer</span>
<span class="sd">              used for the column (if any). The dictionary has the following keys:</span>
<span class="sd">              - name: The name of the transformer.</span>
<span class="sd">              - Any other properties of the transformer that are not private or set by a random seed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">sdv_workflow</span><span class="p">:</span>
        <span class="n">sdmetadata</span> <span class="o">=</span> <span class="n">metatransformer</span><span class="o">.</span><span class="n">metadata</span>
        <span class="n">transformers</span> <span class="o">=</span> <span class="n">metatransformer</span><span class="o">.</span><span class="n">get_transformers</span><span class="p">()</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">cn</span><span class="p">:</span> <span class="p">{</span>
                <span class="o">**</span><span class="n">cd</span><span class="p">,</span>
                <span class="o">**</span><span class="p">{</span>
                    <span class="s2">&quot;transformer&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">(</span><span class="n">transformers</span><span class="p">[</span><span class="n">cn</span><span class="p">])</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                        <span class="o">**</span><span class="n">filter_dict</span><span class="p">(</span>
                            <span class="n">transformers</span><span class="p">[</span><span class="n">cn</span><span class="p">]</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">,</span>
                            <span class="p">{</span><span class="s2">&quot;output_properties&quot;</span><span class="p">,</span> <span class="s2">&quot;random_states&quot;</span><span class="p">,</span> <span class="s2">&quot;transform&quot;</span><span class="p">,</span> <span class="s2">&quot;reverse_transform&quot;</span><span class="p">,</span> <span class="s2">&quot;_dtype&quot;</span><span class="p">},</span>
                        <span class="p">),</span>
                    <span class="p">}</span>
                    <span class="k">if</span> <span class="n">transformers</span><span class="p">[</span><span class="n">cn</span><span class="p">]</span>
                    <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="s2">&quot;dtype&quot;</span><span class="p">:</span> <span class="n">dtypes</span><span class="p">[</span><span class="n">cn</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dtypes</span><span class="p">[</span><span class="n">cn</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">dtypes</span><span class="p">[</span><span class="n">cn</span><span class="p">],</span>
                <span class="p">},</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">cn</span><span class="p">,</span> <span class="n">cd</span> <span class="ow">in</span> <span class="n">sdmetadata</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">metatransformer</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">cn</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;sdtype&quot;</span><span class="p">:</span> <span class="n">cd</span><span class="p">,</span>
                <span class="s2">&quot;transformer&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;transformers&quot;</span><span class="p">][</span><span class="n">cn</span><span class="p">])</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">filter_dict</span><span class="p">(</span>
                        <span class="n">config</span><span class="p">[</span><span class="s2">&quot;transformers&quot;</span><span class="p">][</span><span class="n">cn</span><span class="p">]</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">,</span>
                        <span class="p">{</span><span class="s2">&quot;output_properties&quot;</span><span class="p">,</span> <span class="s2">&quot;random_states&quot;</span><span class="p">,</span> <span class="s2">&quot;transform&quot;</span><span class="p">,</span> <span class="s2">&quot;reverse_transform&quot;</span><span class="p">,</span> <span class="s2">&quot;_dtype&quot;</span><span class="p">},</span>
                    <span class="p">),</span>
                <span class="p">}</span>
                <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;transformers&quot;</span><span class="p">][</span><span class="n">cn</span><span class="p">]</span>
                <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;dtype&quot;</span><span class="p">:</span> <span class="n">dtypes</span><span class="p">[</span><span class="n">cn</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dtypes</span><span class="p">[</span><span class="n">cn</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">dtypes</span><span class="p">[</span><span class="n">cn</span><span class="p">],</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">cn</span><span class="p">,</span> <span class="n">cd</span> <span class="ow">in</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;sdtypes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="k">return</span> <span class="n">metadata</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.metadata.check_metadata_columns" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_metadata_columns</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Check if all column representations in the metadata correspond to valid columns in the DataFrame.
If any columns are not present, add them to the metadata and instantiate an empty dictionary.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>metadata</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary containing metadata for the columns in the DataFrame.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>DataFrame</code></td>
        <td><p>The DataFrame to check against the metadata.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AssertionError</code></td>
        <td><p>If any columns in metadata are not present in the DataFrame.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_metadata_columns</span><span class="p">(</span><span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">],</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if all column representations in the metadata correspond to valid columns in the DataFrame.</span>
<span class="sd">    If any columns are not present, add them to the metadata and instantiate an empty dictionary.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata: A dictionary containing metadata for the columns in the DataFrame.</span>
<span class="sd">        data: The DataFrame to check against the metadata.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: If any columns in metadata are not present in the DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="nb">all</span><span class="p">([</span><span class="n">k</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">()])</span>
    <span class="n">metadata</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">cn</span><span class="p">:</span> <span class="p">{}</span> <span class="k">for</span> <span class="n">cn</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">cn</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">metadata</span><span class="p">})</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.metadata.collapse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">collapse</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Given a metadata dictionary, rewrites it to collapse duplicate column types and transformers.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>metadata</code></td>
        <td><code>dict</code></td>
        <td><p>The metadata dictionary to be rewritten.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>A rewritten metadata dictionary with collapsed column types and transformers.
    The returned dictionary has the following structure:
    {
        "transformers": dict,
        "column_types": dict,
        <strong>metadata  # columns that now reference the dicts above
    }
    - "transformers" is a dictionary mapping transformer indices (integers) to transformer configurations.
    - "column_types" is a dictionary mapping column type indices (integers) to column type configurations.
    - "</strong>metadata" contains the original metadata dictionary, with column types and transformers
      rewritten to use the indices in "transformers" and "column_types".</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">collapse</span><span class="p">(</span><span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a metadata dictionary, rewrites it to collapse duplicate column types and transformers.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata: The metadata dictionary to be rewritten.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A rewritten metadata dictionary with collapsed column types and transformers.</span>
<span class="sd">            The returned dictionary has the following structure:</span>
<span class="sd">            {</span>
<span class="sd">                &quot;transformers&quot;: dict,</span>
<span class="sd">                &quot;column_types&quot;: dict,</span>
<span class="sd">                **metadata  # columns that now reference the dicts above</span>
<span class="sd">            }</span>
<span class="sd">            - &quot;transformers&quot; is a dictionary mapping transformer indices (integers) to transformer configurations.</span>
<span class="sd">            - &quot;column_types&quot; is a dictionary mapping column type indices (integers) to column type configurations.</span>
<span class="sd">            - &quot;**metadata&quot; contains the original metadata dictionary, with column types and transformers</span>
<span class="sd">              rewritten to use the indices in &quot;transformers&quot; and &quot;column_types&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">c_index</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">column_types</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">t_index</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">transformers</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">cn</span><span class="p">,</span> <span class="n">cd</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

        <span class="k">if</span> <span class="n">cd</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">column_types</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">column_types</span><span class="p">[</span><span class="n">c_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">cd</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">cn</span><span class="p">]</span> <span class="o">=</span> <span class="n">column_types</span><span class="p">[</span><span class="n">c_index</span><span class="p">]</span>
            <span class="n">c_index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cix</span> <span class="o">=</span> <span class="n">get_key_by_value</span><span class="p">(</span><span class="n">column_types</span><span class="p">,</span> <span class="n">cd</span><span class="p">)</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">cn</span><span class="p">]</span> <span class="o">=</span> <span class="n">column_types</span><span class="p">[</span><span class="n">cix</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">cd</span><span class="p">[</span><span class="s2">&quot;transformer&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">transformers</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="ow">and</span> <span class="n">cd</span><span class="p">[</span><span class="s2">&quot;transformer&quot;</span><span class="p">]:</span>
            <span class="n">transformers</span><span class="p">[</span><span class="n">t_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">cd</span><span class="p">[</span><span class="s2">&quot;transformer&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">cn</span><span class="p">][</span><span class="s2">&quot;transformer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transformers</span><span class="p">[</span><span class="n">t_index</span><span class="p">]</span>
            <span class="n">t_index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">cd</span><span class="p">[</span><span class="s2">&quot;transformer&quot;</span><span class="p">]:</span>
            <span class="n">tix</span> <span class="o">=</span> <span class="n">get_key_by_value</span><span class="p">(</span><span class="n">transformers</span><span class="p">,</span> <span class="n">cd</span><span class="p">[</span><span class="s2">&quot;transformer&quot;</span><span class="p">])</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">cn</span><span class="p">][</span><span class="s2">&quot;transformer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transformers</span><span class="p">[</span><span class="n">tix</span><span class="p">]</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;transformers&quot;</span><span class="p">:</span> <span class="n">transformers</span><span class="p">,</span> <span class="s2">&quot;column_types&quot;</span><span class="p">:</span> <span class="n">column_types</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.metadata.create_empty_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_empty_metadata</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Creates an empty metadata dictionary for a given pandas DataFrame.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data</code></td>
        <td><code>DataFrame</code></td>
        <td><p>The DataFrame for which an empty metadata dictionary is created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>A dictionary where each key corresponds to a column name in the DataFrame, and each value is an empty dictionary.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_empty_metadata</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates an empty metadata dictionary for a given pandas DataFrame.</span>

<span class="sd">    Args:</span>
<span class="sd">        data: The DataFrame for which an empty metadata dictionary is created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary where each key corresponds to a column name in the DataFrame, and each value is an empty dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">cn</span><span class="p">:</span> <span class="p">{}</span> <span class="k">for</span> <span class="n">cn</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.metadata.instantiate_dtypes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">instantiate_dtypes</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Instantiate the data types for each column based on the given metadata.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>metadata</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary containing metadata information for each column, including the data type.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>DataFrame</code></td>
        <td><p>A pandas DataFrame containing the data to be instantiated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>A dictionary containing the instantiated data types for each column.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>UserWarning</code></td>
        <td><p>If incomplete metadata is detected, i.e., if there are columns with missing 'dtype' information.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">instantiate_dtypes</span><span class="p">(</span><span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">],</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Instantiate the data types for each column based on the given metadata.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata: A dictionary containing metadata information for each column, including the data type.</span>
<span class="sd">        data: A pandas DataFrame containing the data to be instantiated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary containing the instantiated data types for each column.</span>

<span class="sd">    Raises:</span>
<span class="sd">        UserWarning: If incomplete metadata is detected, i.e., if there are columns with missing &#39;dtype&#39; information.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dtypes</span> <span class="o">=</span> <span class="p">{</span><span class="n">cn</span><span class="p">:</span> <span class="n">cd</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dtype&quot;</span><span class="p">,</span> <span class="p">{})</span> <span class="k">for</span> <span class="n">cn</span><span class="p">,</span> <span class="n">cd</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">dtypes</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Incomplete metadata, detecting missing `dtype`s for column(s): </span><span class="si">{</span><span class="p">[</span><span class="n">k</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">dtypes</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">v</span><span class="p">]</span><span class="si">}</span><span class="s2"> automatically...&quot;</span><span class="p">,</span>
            <span class="ne">UserWarning</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">dtypes</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">cn</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="n">cn</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="k">for</span> <span class="n">cn</span><span class="p">,</span> <span class="n">cv</span> <span class="ow">in</span> <span class="n">dtypes</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">cv</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">dtypes</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.metadata.load_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_metadata</span><span class="p">(</span><span class="n">in_path</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Load metadata from a YAML file located at <code>in_path</code>. If the file does not exist, create an empty metadata
dictionary with column names from the <code>data</code> DataFrame.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>in_path</code></td>
        <td><code>Path</code></td>
        <td><p>The path to the YAML file containing the metadata.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>DataFrame</code></td>
        <td><p>The DataFrame containing the data for which metadata is being loaded.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>A metadata dictionary containing information about the columns in the <code>data</code> DataFrame.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_metadata</span><span class="p">(</span><span class="n">in_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load metadata from a YAML file located at `in_path`. If the file does not exist, create an empty metadata</span>
<span class="sd">    dictionary with column names from the `data` DataFrame.</span>

<span class="sd">    Args:</span>
<span class="sd">        in_path: The path to the YAML file containing the metadata.</span>
<span class="sd">        data: The DataFrame containing the data for which metadata is being loaded.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A metadata dictionary containing information about the columns in the `data` DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">in_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">in_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
            <span class="n">metadata</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">filter_dict</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;transformers&quot;</span><span class="p">,</span> <span class="s2">&quot;column_types&quot;</span><span class="p">})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">create_empty_metadata</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">check_metadata_columns</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">metadata</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.metadata.output_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">output_metadata</span><span class="p">(</span><span class="n">out_path</span><span class="p">,</span> <span class="n">dtypes</span><span class="p">,</span> <span class="n">metatransformer</span><span class="p">,</span> <span class="n">sdv_workflow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">collapse_yaml</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Writes metadata to a YAML file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>out_path</code></td>
        <td><code>Path</code></td>
        <td><p>The path at which to write the metadata YAML file.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dtypes</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary mapping column names of the input data to their assigned data types.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>metatransformer</code></td>
        <td><code>sdv.single_table.base.BaseSingleTableSynthesizer | rdt.hyper_transformer.HyperTransformer</code></td>
        <td><p>The synthesizer or hypertransformer that was used to transform the data.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sdv_workflow</code></td>
        <td><code>bool</code></td>
        <td><p>A boolean indicating whether the data was transformed using the SDV / synthesizer workflow.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>collapse_yaml</code></td>
        <td><code>bool</code></td>
        <td><p>A boolean indicating whether to collapse the YAML representation of the metadata, reducing duplication.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">output_metadata</span><span class="p">(</span>
    <span class="n">out_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
    <span class="n">dtypes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">metatransformer</span><span class="p">:</span> <span class="n">BaseSingleTableSynthesizer</span> <span class="o">|</span> <span class="n">HyperTransformer</span><span class="p">,</span>
    <span class="n">sdv_workflow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">collapse_yaml</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Writes metadata to a YAML file.</span>

<span class="sd">    Args:</span>
<span class="sd">        out_path: The path at which to write the metadata YAML file.</span>
<span class="sd">        dtypes: A dictionary mapping column names of the input data to their assigned data types.</span>
<span class="sd">        metatransformer: The synthesizer or hypertransformer that was used to transform the data.</span>
<span class="sd">        sdv_workflow: A boolean indicating whether the data was transformed using the SDV / synthesizer workflow.</span>
<span class="sd">        collapse_yaml: A boolean indicating whether to collapse the YAML representation of the metadata, reducing duplication.</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">assemble_metadata</span><span class="p">(</span><span class="n">dtypes</span><span class="p">,</span> <span class="n">metatransformer</span><span class="p">,</span> <span class="n">sdv_workflow</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">collapse_yaml</span><span class="p">:</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">collapse</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">out_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
        <span class="n">yaml</span><span class="o">.</span><span class="n">safe_dump</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">yaml_file</span><span class="p">,</span> <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="nhssynth.modules.dataloader.run" class="doc doc-heading">
        <code>run</code>



</h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.run.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Runs the main workflow of the dataloader module, transforming the input data and writing the output to file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>args</code></td>
        <td><code>Namespace</code></td>
        <td><p>An argparse Namespace containing the command line arguments.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/run.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Runs the main workflow of the dataloader module, transforming the input data and writing the output to file.</span>

<span class="sd">    Args:</span>
<span class="sd">        args: An argparse Namespace containing the command line arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Running dataloader...&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">seed</span><span class="p">:</span>
        <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">seed</span><span class="p">)</span>

    <span class="n">input_path</span><span class="p">,</span> <span class="n">output_path</span><span class="p">,</span> <span class="n">metadata_input_path</span><span class="p">,</span> <span class="n">metadata_output_path</span> <span class="o">=</span> <span class="n">setup_io</span><span class="p">(</span>
        <span class="n">args</span><span class="o">.</span><span class="n">input_file</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">metadata_file</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">dir</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">run_name</span>
    <span class="p">)</span>

    <span class="c1"># Load the dataset and accompanying metadata</span>
    <span class="nb">input</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">input_path</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">index_col</span><span class="p">)</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">load_metadata</span><span class="p">(</span><span class="n">metadata_input_path</span><span class="p">,</span> <span class="nb">input</span><span class="p">)</span>

    <span class="c1"># Setup the input data dtypes and apply them</span>
    <span class="n">dtypes</span> <span class="o">=</span> <span class="n">instantiate_dtypes</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="nb">input</span><span class="p">)</span>
    <span class="n">typed_input</span> <span class="o">=</span> <span class="nb">input</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtypes</span><span class="p">)</span>

    <span class="c1"># Setup the metatransformer</span>
    <span class="n">metatransformer</span> <span class="o">=</span> <span class="n">instantiate_metatransformer</span><span class="p">(</span>
        <span class="n">metadata</span><span class="p">,</span>
        <span class="n">typed_input</span><span class="p">,</span>
        <span class="n">args</span><span class="o">.</span><span class="n">sdv_workflow</span><span class="p">,</span>
        <span class="n">args</span><span class="o">.</span><span class="n">allow_null_transformers</span><span class="p">,</span>
        <span class="n">SDV_SYNTHESIZER_CHOICES</span><span class="p">[</span><span class="n">args</span><span class="o">.</span><span class="n">synthesizer</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="c1"># Output the metadata corresponding to `transformed_input`, for reproducibility</span>
    <span class="n">output_metadata</span><span class="p">(</span><span class="n">metadata_output_path</span><span class="p">,</span> <span class="n">dtypes</span><span class="p">,</span> <span class="n">metatransformer</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">sdv_workflow</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">collapse_yaml</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transforming input...&quot;</span><span class="p">)</span>
    <span class="n">transformed_input</span> <span class="o">=</span> <span class="n">apply_transformer</span><span class="p">(</span><span class="n">metatransformer</span><span class="p">,</span> <span class="n">typed_input</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">sdv_workflow</span><span class="p">)</span>

    <span class="c1"># Write the transformed input to the appropriate file</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Writing output&quot;</span><span class="p">)</span>
    <span class="n">transformed_input</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">output_path</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="nhssynth.modules.dataloader.transformers" class="doc doc-heading">
        <code>transformers</code>



</h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.transformers.apply_transformer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">apply_transformer</span><span class="p">(</span><span class="n">metatransformer</span><span class="p">,</span> <span class="n">typed_input</span><span class="p">,</span> <span class="n">sdv_workflow</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Applies a metatransformer to the typed input data.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>metatransformer</code></td>
        <td><code>sdv.single_table.base.BaseSingleTableSynthesizer | rdt.hyper_transformer.HyperTransformer</code></td>
        <td><p>A metatransformer object that can be either a <code>HyperTransformer</code> from RDT or a <code>BaseSingleTableSynthesizer</code> from SDV.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>typed_input</code></td>
        <td><code>DataFrame</code></td>
        <td><p>The typed input data.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sdv_workflow</code></td>
        <td><code>bool</code></td>
        <td><p>A boolean flag indicating whether to use the <code>preprocess()</code> method of the <code>metatransformer</code> if it's an <code>SDV</code> synthesizer, or the <code>fit_transform()</code> method if it's an <code>RDT</code> transformer.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>The transformed data.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/transformers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">apply_transformer</span><span class="p">(</span>
    <span class="n">metatransformer</span><span class="p">:</span> <span class="n">BaseSingleTableSynthesizer</span> <span class="o">|</span> <span class="n">HyperTransformer</span><span class="p">,</span>
    <span class="n">typed_input</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">sdv_workflow</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Applies a metatransformer to the typed input data.</span>

<span class="sd">    Args:</span>
<span class="sd">        metatransformer: A metatransformer object that can be either a `HyperTransformer` from RDT or a `BaseSingleTableSynthesizer` from SDV.</span>
<span class="sd">        typed_input: The typed input data.</span>
<span class="sd">        sdv_workflow: A boolean flag indicating whether to use the `preprocess()` method of the `metatransformer` if it&#39;s an `SDV` synthesizer, or the `fit_transform()` method if it&#39;s an `RDT` transformer.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The transformed data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">sdv_workflow</span><span class="p">:</span>
        <span class="n">transformed_input</span> <span class="o">=</span> <span class="n">metatransformer</span><span class="o">.</span><span class="n">preprocess</span><span class="p">(</span><span class="n">typed_input</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">transformed_input</span> <span class="o">=</span> <span class="n">metatransformer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">typed_input</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">transformed_input</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.transformers.get_transformer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_transformer</span><span class="p">(</span><span class="n">d</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Return a callable transformer object extracted from the given dictionary.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>d</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary containing the transformer data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[sdv.single_table.base.BaseSingleTableSynthesizer]</code></td>
      <td><p>A callable object (transformer) if the dictionary contains transformer data, else None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/transformers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_transformer</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseSingleTableSynthesizer</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a callable transformer object extracted from the given dictionary.</span>

<span class="sd">    Args:</span>
<span class="sd">        d: A dictionary containing the transformer data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A callable object (transformer) if the dictionary contains transformer data, else None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">transformer_data</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;transformer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">transformer_data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="c1"># Need to copy in case dicts are shared across columns, this can happen when reading a yaml with anchors</span>
        <span class="n">transformer_data</span> <span class="o">=</span> <span class="n">transformer_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">transformer_name</span> <span class="o">=</span> <span class="n">transformer_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">transformer</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">transformer_name</span><span class="p">)(</span><span class="o">**</span><span class="n">transformer_data</span><span class="p">)</span> <span class="k">if</span> <span class="n">transformer_name</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">transformer</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">transformer_data</span><span class="p">)()</span> <span class="k">if</span> <span class="n">transformer_data</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">transformer</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.transformers.instantiate_hypertransformer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">instantiate_hypertransformer</span><span class="p">(</span><span class="n">sdtypes</span><span class="p">,</span> <span class="n">transformers</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">allow_null_transformers</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Instantiates a HyperTransformer object from the given metadata and data.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sdtypes</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary of column names to their metadata, containing the key "sdtype" which
specifies the semantic SDV data type of the column.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>transformers</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary of column names to their transformers.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>DataFrame</code></td>
        <td><p>The input DataFrame.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>allow_null_transformers</code></td>
        <td><code>bool</code></td>
        <td><p>A flag indicating whether or not to allow null transformers.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>HyperTransformer</code></td>
      <td><p>A HyperTransformer object instantiated from the given metadata and data.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/transformers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">instantiate_hypertransformer</span><span class="p">(</span>
    <span class="n">sdtypes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">],</span>
    <span class="n">transformers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseTransformer</span><span class="p">]],</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">allow_null_transformers</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HyperTransformer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Instantiates a HyperTransformer object from the given metadata and data.</span>

<span class="sd">    Args:</span>
<span class="sd">        sdtypes: A dictionary of column names to their metadata, containing the key &quot;sdtype&quot; which</span>
<span class="sd">            specifies the semantic SDV data type of the column.</span>
<span class="sd">        transformers: A dictionary of column names to their transformers.</span>
<span class="sd">        data: The input DataFrame.</span>
<span class="sd">        allow_null_transformers: A flag indicating whether or not to allow null transformers.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A HyperTransformer object instantiated from the given metadata and data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ht</span> <span class="o">=</span> <span class="n">HyperTransformer</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">sdtypes</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">all</span><span class="p">(</span><span class="n">transformers</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="ow">or</span> <span class="n">allow_null_transformers</span><span class="p">):</span>
        <span class="n">ht</span><span class="o">.</span><span class="n">set_config</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;sdtypes&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;sdtype&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">sdtypes</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
                <span class="s2">&quot;transformers&quot;</span><span class="p">:</span> <span class="n">transformers</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Incomplete metadata, detecting missing</span><span class="si">{</span><span class="p">(</span><span class="s1">&#39; `sdtype`s for column(s): &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">str</span><span class="p">([</span><span class="n">k</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sdtypes</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">v</span><span class="p">]))</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nb">all</span><span class="p">(</span><span class="n">sdtypes</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}{</span><span class="p">(</span><span class="s1">&#39; `transformer`s for column(s): &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">str</span><span class="p">([</span><span class="n">k</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">transformers</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">v</span><span class="p">]))</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nb">all</span><span class="p">(</span><span class="n">transformers</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">allow_null_transformers</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2"> automatically...&quot;</span><span class="p">,</span>
            <span class="ne">UserWarning</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">ht</span><span class="o">.</span><span class="n">detect_initial_config</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">ht</span><span class="o">.</span><span class="n">update_sdtypes</span><span class="p">({</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;sdtype&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">sdtypes</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span><span class="p">})</span>
        <span class="n">ht</span><span class="o">.</span><span class="n">update_transformers</span><span class="p">(</span>
            <span class="n">transformers</span> <span class="k">if</span> <span class="n">allow_null_transformers</span> <span class="k">else</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">transformers</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span><span class="p">}</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">ht</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.transformers.instantiate_metatransformer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">instantiate_metatransformer</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">sdv_workflow</span><span class="p">,</span> <span class="n">allow_null_transformers</span><span class="p">,</span> <span class="n">Synthesizer</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Instantiates a metatransformer based on the given metadata and input data.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>metadata</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary containing the metadata for the input data. Each key corresponds to a column name in the
input data, and its value is a dictionary containing the metadata for the corresponding column. The metadata
should contain "dtype" and "sdtype" fields specifying the column's data type, and a "transformer" field specifying the
name of the transformer to use for the column and its configuration (to be instantiated below).</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>DataFrame</code></td>
        <td><p>The input data as a pandas DataFrame.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sdv_workflow</code></td>
        <td><code>bool</code></td>
        <td><p>A boolean flag indicating whether to use the SDV workflow or the RDT workflow. If True, the
TVAESynthesizer from SDV will be used as the metatransformer. If False, the HyperTransformer from
RDT will be used instead.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>allow_null_transformers</code></td>
        <td><code>bool</code></td>
        <td><p>A boolean flag indicating whether to allow transformers to be None. If True, a None value
for a transformer in the metadata will be treated as a valid value, and no transformer will be instantiated
for that column.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>sdv.single_table.base.BaseSingleTableSynthesizer | rdt.hyper_transformer.HyperTransformer</code></td>
      <td><p>A metatransformer object that can be either a <code>HyperTransformer</code> from RDT or a <code>BaseSingleTableSynthesizer</code> from SDV.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/transformers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">instantiate_metatransformer</span><span class="p">(</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">],</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">sdv_workflow</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">allow_null_transformers</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">Synthesizer</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BaseSingleTableSynthesizer</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSingleTableSynthesizer</span> <span class="o">|</span> <span class="n">HyperTransformer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Instantiates a metatransformer based on the given metadata and input data.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata: A dictionary containing the metadata for the input data. Each key corresponds to a column name in the</span>
<span class="sd">            input data, and its value is a dictionary containing the metadata for the corresponding column. The metadata</span>
<span class="sd">            should contain &quot;dtype&quot; and &quot;sdtype&quot; fields specifying the column&#39;s data type, and a &quot;transformer&quot; field specifying the</span>
<span class="sd">            name of the transformer to use for the column and its configuration (to be instantiated below).</span>
<span class="sd">        data: The input data as a pandas DataFrame.</span>
<span class="sd">        sdv_workflow: A boolean flag indicating whether to use the SDV workflow or the RDT workflow. If True, the</span>
<span class="sd">            TVAESynthesizer from SDV will be used as the metatransformer. If False, the HyperTransformer from</span>
<span class="sd">            RDT will be used instead.</span>
<span class="sd">        allow_null_transformers: A boolean flag indicating whether to allow transformers to be None. If True, a None value</span>
<span class="sd">            for a transformer in the metadata will be treated as a valid value, and no transformer will be instantiated</span>
<span class="sd">            for that column.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A metatransformer object that can be either a `HyperTransformer` from RDT or a `BaseSingleTableSynthesizer` from SDV.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sdtypes</span> <span class="o">=</span> <span class="p">{</span><span class="n">cn</span><span class="p">:</span> <span class="n">filter_dict</span><span class="p">(</span><span class="n">cd</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;dtype&quot;</span><span class="p">,</span> <span class="s2">&quot;transformer&quot;</span><span class="p">})</span> <span class="k">for</span> <span class="n">cn</span><span class="p">,</span> <span class="n">cd</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="n">transformers</span> <span class="o">=</span> <span class="p">{</span><span class="n">cn</span><span class="p">:</span> <span class="n">get_transformer</span><span class="p">(</span><span class="n">cd</span><span class="p">)</span> <span class="k">for</span> <span class="n">cn</span><span class="p">,</span> <span class="n">cd</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="k">if</span> <span class="n">sdv_workflow</span><span class="p">:</span>
        <span class="n">metatransformer</span> <span class="o">=</span> <span class="n">instantiate_synthesizer</span><span class="p">(</span><span class="n">sdtypes</span><span class="p">,</span> <span class="n">transformers</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">allow_null_transformers</span><span class="p">,</span> <span class="n">Synthesizer</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">metatransformer</span> <span class="o">=</span> <span class="n">instantiate_hypertransformer</span><span class="p">(</span><span class="n">sdtypes</span><span class="p">,</span> <span class="n">transformers</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">allow_null_transformers</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">metatransformer</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="nhssynth.modules.dataloader.transformers.instantiate_synthesizer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">instantiate_synthesizer</span><span class="p">(</span><span class="n">sdtypes</span><span class="p">,</span> <span class="n">transformers</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">allow_null_transformers</span><span class="p">,</span> <span class="n">Synthesizer</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Instantiates a BaseSingleTableSynthesizer object from the given metadata and data.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sdtypes</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary of column names to their metadata, containing the key "sdtype" which
specifies the semantic SDV data type of the column.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>transformers</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary of column names to their transformers.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>DataFrame</code></td>
        <td><p>The input DataFrame.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>allow_null_transformers</code></td>
        <td><code>bool</code></td>
        <td><p>A flag indicating whether or not to allow null transformers.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseSingleTableSynthesizer</code></td>
      <td><p>A BaseSingleTableSynthesizer object instantiated from the given metadata and data.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>modules/dataloader/transformers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">instantiate_synthesizer</span><span class="p">(</span>
    <span class="n">sdtypes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">],</span>
    <span class="n">transformers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseTransformer</span><span class="p">]],</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">allow_null_transformers</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">Synthesizer</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BaseSingleTableSynthesizer</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSingleTableSynthesizer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Instantiates a BaseSingleTableSynthesizer object from the given metadata and data.</span>

<span class="sd">    Args:</span>
<span class="sd">        sdtypes: A dictionary of column names to their metadata, containing the key &quot;sdtype&quot; which</span>
<span class="sd">            specifies the semantic SDV data type of the column.</span>
<span class="sd">        transformers: A dictionary of column names to their transformers.</span>
<span class="sd">        data: The input DataFrame.</span>
<span class="sd">        allow_null_transformers: A flag indicating whether or not to allow null transformers.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A BaseSingleTableSynthesizer object instantiated from the given metadata and data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">sdtypes</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">SingleTableMetadata</span><span class="o">.</span><span class="n">load_from_dict</span><span class="p">({</span><span class="s2">&quot;columns&quot;</span><span class="p">:</span> <span class="n">sdtypes</span><span class="p">})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Incomplete metadata, detecting missing `sdtype`s for column(s): </span><span class="si">{</span><span class="p">[</span><span class="n">k</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sdtypes</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">v</span><span class="p">]</span><span class="si">}</span><span class="s2"> automatically...&quot;</span><span class="p">,</span>
            <span class="ne">UserWarning</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">SingleTableMetadata</span><span class="p">()</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">detect_from_dataframe</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">sdtypes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">values</span><span class="p">:</span>
                <span class="n">metadata</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="n">column_name</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">transformers</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">allow_null_transformers</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Incomplete metadata, detecting missing `transformers`s for column(s): </span><span class="si">{</span><span class="p">[</span><span class="n">k</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">transformers</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">v</span><span class="p">]</span><span class="si">}</span><span class="s2"> automatically...&quot;</span><span class="p">,</span>
            <span class="ne">UserWarning</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">synthesizer</span> <span class="o">=</span> <span class="n">Synthesizer</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
    <span class="n">synthesizer</span><span class="o">.</span><span class="n">auto_assign_transformers</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">synthesizer</span><span class="o">.</span><span class="n">update_transformers</span><span class="p">(</span>
        <span class="n">transformers</span> <span class="k">if</span> <span class="n">allow_null_transformers</span> <span class="k">else</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">transformers</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">synthesizer</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">March 31, 2023</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../" class="md-footer__link md-footer__link--prev" aria-label="Previous: modules" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                modules
              </div>
            </div>
          </a>
        
        
          
          <a href="io/" class="md-footer__link md-footer__link--next" aria-label="Next: io" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                io
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "search.share", "navigation.footer", "content.action.view", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.407015b8.min.js"></script>
      
    
  </body>
</html>